<launch>
  <arg name="MACHINE" default="localhost" />
  <arg name="launch_map_server" default="true" />
  <arg name="use_machine" default="false" />
  <arg name="use_pictogram" default="false" />
  <arg name="use_rviz" default="false" />

  <machine name="localhost" address="localhost" if="$(arg use_machine)" />

  <node pkg="tf" type="static_transform_publisher" name="$(anon map_tfA)"
        args="0 0 0 0 0 0 /world /eng8 100"/>

  <include file="$(find jsk_maps)/launch/include/start_map_eng8_main.xml">
    <arg name="launch_map_server" value="$(arg launch_map_server)" />
  </include>

  <node pkg="tf" type="static_transform_publisher" name="$(anon map_tfB)"
        args="0 -13.678 0  0 0 0 /eng8/6f /eng8/6f/610 100" />

  <!-- for initialpose topic -->
  <node name="initialpose3d" pkg="jsk_maps" type="initialpose3d.py">
    <remap from="initialpose_in" to="initialpose3d" />
    <remap from="initialpose_out" to="initialpose" />
  </node>

  <node name="publish_spot" pkg="roseus" type="roseus"
        args="$(find jsk_maps)/tools/publish_spot.l"
        machine="$(arg MACHINE)"
        output="screen" >
    <param name="~scene" value="eng8" />
    <param name="~use_pictogram" value="$(arg use_pictogram)" />
  </node>

  <node name="marker_cube"
        pkg="jsk_interactive_marker" type="marker_6dof">
    <rosparam>
      frame_id: /eng8/wrs
      object_type: line
      object_r: 1.0
      object_g: 0.2
      object_b: 0.2
      object_a: 1.0
      publish_tf: true
      tf_frame: interactive_marker
    </rosparam>
  </node>

  <group if="$(arg use_rviz)" >
    <node name="rviz_for_spot"
          pkg="rviz" type="rviz"
          args="-d $(find jsk_maps)/launch/config/wrs_for_spot.rviz">
    </node>
    <node name="dump_coords"
          pkg="jsk_maps" type="dump_coords.py"
          output="screen" >
    </node>
  </group>

</launch>
